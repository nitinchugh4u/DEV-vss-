<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <style>

        #searchBarDiv{
            display: flex;
            justify-content: center;
            background-color:crimson;
            
            
            
        }

        #searchBarInput{
            width:300px;
            border-radius: 5%;
            border: 2px solid black;
            background-color: lightgray;
            
        }


        

        #container{
            display: flex;
            flex-wrap: wrap;
            gap: 22px;
            justify-content: center;
            align-items: center;
            background-color: lightgrey;
            padding: 22px;
            margin-top: 15px;
            
            

        }
        .insideContainer{
            height: 300px;
            width: 300px;
            flex-direction: column;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: cornflowerblue;
            
        }



        .innerImages{
            height: 100px;
            width: 100px;
        }

    </style>
</head>
<body>

    <div id="searchBarDiv">
        <input id="searchBarInput"  type="text" placeholder="search">
    </div>

    <div id="container">

    </div>
    
</body>
</html>

<script>
    //include method
    const  parentDiv = document.getElementById("container");
    const searchBarText = document.getElementById("searchBarInput");
    let copyMeraUparSeAayaHuaData;
    
    searchBarText.addEventListener("input",find)
    
    function find(e){
        console.log("e",e);
        let userValue = e.target.value;
        console.log("userValue",userValue);
        parentDiv.innerHTML = "";
      let selectedItemsOfArray = compare(copyMeraUparSeAayaHuaData,userValue);
      renderUI(selectedItemsOfArray);

    }
    function compare(copyMeraUparSeAayaHuaData,Search){
        Search = Search.toLowerCase();
        let matchItemsArray = [];
        for(let i = 0;i<copyMeraUparSeAayaHuaData.length;i++){
            const title = copyMeraUparSeAayaHuaData[i].title;
            const titleLc = title.toLowerCase();
            if(titleLc.includes(Search)){
                matchItemsArray.push(copyMeraUparSeAayaHuaData[i]);
            }
        
        }
        return matchItemsArray;

        
}
    

   result = fetch("https://fakestoreapi.com/products");
   result
   .then((aayaHuaData)=> aayaHuaData.json())
   .then((meraUparSeAayaHuaData) => {
    console.log(meraUparSeAayaHuaData);
    renderUI(meraUparSeAayaHuaData);
     copyMeraUparSeAayaHuaData = meraUparSeAayaHuaData;
   })

    function renderUI(meraUparSeAayaHuaData){

    for(let i =0;i<meraUparSeAayaHuaData.length; i++){

       let childDiv = document.createElement("div");
       childDiv.className = "insideContainer"

       let paraTitle = document.createElement("p");
       paraTitle.innerText = meraUparSeAayaHuaData[i].title;

       let paraPrice = document.createElement("p");
       paraPrice.innerText = meraUparSeAayaHuaData[i].price;

       let image = document.createElement("img");
       image.src = meraUparSeAayaHuaData[i].image;
       image.className = "innerImages";


       childDiv.appendChild(paraTitle);
       childDiv.appendChild(paraPrice);
       childDiv.appendChild(image);


       parentDiv.appendChild(childDiv);
    }
}
    
    
   




</script>